/* BOARD VISUALS
    =============
    Styles for the 7x7 grid, the visual layers (pyramid effect),
    home bases, and path highlighting.
*/

/* --- 1. Main Board Container --- */
#game-board {
    display: grid;
    grid-template-columns: repeat(7, 60px);
    grid-template-rows: repeat(7, 60px);

    /* No gap allows layers to form solid rings */
    gap: 0;

    background-color: #8b4513;
    /* Dark wood color */
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY:YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NkIxMEU4MjgxNTZFMTFFMUEzNUVBNDA5MEI4MzU4QUEiIHhtE1NOOkRvY3VtZW50SUQ9InhtcC5kaWQ6NkIxMEU4MjkxNTZFMTFFMUEzNUVBNDA5MEI4MzU4QUEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2QjEwRTgyNjE1NkUxMUUxQTM1RUE0MDkwQjgzNThBQSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo2QjEwRTgyNzE1NkUxMUUxQTM1RUE0MDkwQjgzNThBQSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wYWNrZXQ6IGVuZD0icSI/PuBv5G4AAABUSURBVHjaYvj4+BQDCLD8/PyMTAwMDBRkUMcWmxjEMLqQJMwJkBWLwRxELJYJNVLYZCJLdFwMhIpRjBgLAwL/Gf5n+B8lQWJiaGj4n6lATQOIMAAEGAAt6A4E/R/LIAAAAABJRU5ErkJggg==");

    border: 5px solid #6a340b;
    border-radius: 8px;
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3), inset 0 0 15px rgba(0, 0, 0, 0.2);
    flex-shrink: 0;
    position: relative;

    /* Smooth transition for turn colors */
    transition: background-color 0.5s ease, border-color 0.5s ease, box-shadow 0.5s ease;
}

/* --- 2. Layer Strokes (The white lines between zones) --- */
/* Stroke between Outer and Middle Layer */
#game-board::before {
    content: '';
    position: absolute;
    top: 60px;
    left: 60px;
    right: 60px;
    bottom: 60px;
    border: 2px solid rgba(255, 255, 255, 0.3);
    pointer-events: none;
    z-index: 5;
}

/* Stroke between Middle and Inner Layer */
#game-board::after {
    content: '';
    position: absolute;
    top: 120px;
    left: 120px;
    right: 120px;
    bottom: 120px;
    border: 2px solid rgba(255, 255, 255, 0.5);
    pointer-events: none;
    z-index: 5;
}

/* --- 3. Individual Grid Cells --- */
.grid-cell {
    /* Clean base, layers will add color */
    /* This creates a subtle bevel effect (top/left light, bottom/right dark) */
    border-top: 1px solid rgba(255, 255, 255, 0.15);
    border-left: 1px solid rgba(255, 255, 255, 0.15);
    border-right: 1px solid rgba(0, 0, 0, 0.2);
    border-bottom: 1px solid rgba(0, 0, 0, 0.2);
    border-radius: 0;
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    justify-content: center;
    gap: 2px;
    min-width: 60px;
    min-height: 60px;
    box-sizing: border-box;
    position: relative;
}

/* --- 4. Board Layer Colors (Light & Differentiable) --- */

.layer-outer {
    /* Darkest/Woodiest - No overlay */
    background-color: transparent;
}

.layer-middle {
    /* Slight white tint */
    background-color: rgba(255, 255, 255, 0.08);
}

.layer-inner {
    /* Brighter white tint */
    background-color: rgba(255, 255, 255, 0.2);
}

.layer-center {
    /* Center Gold */
    background-color: rgba(255, 215, 0, 0.7) !important;
    border: 3px solid #ffd700;
    box-shadow: 0 0 15px rgba(255, 215, 0, 0.6), inset 0 0 10px rgba(255, 255, 255, 0.5);
    z-index: 6;
}

/* --- 5. Home Bases (Strictly defined to skip layer colors) --- */
.home-red {
    background-color: #ffcdd2 !important;
    border: 3px solid #e53935;
    box-shadow: inset 0 0 15px rgba(229, 57, 53, 0.4);
    z-index: 10;
    /* Sit above layer effects */
}

.home-blue {
    background-color: #bbdefb !important;
    border: 3px solid #1e88e5;
    box-shadow: inset 0 0 15px rgba(30, 136, 229, 0.4);
    z-index: 10;
}

.home-green {
    background-color: #c8e6c9 !important;
    border: 3px solid #43a047;
    box-shadow: inset 0 0 15px rgba(67, 160, 71, 0.4);
    z-index: 10;
}

.home-yellow {
    background-color: #fff9c4 !important;
    border: 3px solid #fdd835;
    box-shadow: inset 0 0 15px rgba(253, 216, 53, 0.4);
    z-index: 10;
}

/* --- 6. Visual Effects --- */
@keyframes target-shimmer {
    0% {
        border-color: #ff9900;
    }

    50% {
        border-color: #ffcc00;
    }

    100% {
        border-color: #ff9900;
    }
}

.grid-cell.target-cell,
#off-board-area.target-cell {
    animation: target-shimmer 1.5s infinite;
    border-width: 2px;
    border-style: solid;
    z-index: 50;
    /* Ensure selection is visible over layers */
}

@keyframes path-shine {
    0% {
        background-color: rgba(255, 255, 255, 0.2);
    }

    50% {
        background-color: rgba(255, 255, 255, 0.8);
    }

    100% {
        background-color: rgba(255, 255, 255, 0.2);
    }
}

.path-highlight {
    animation: path-shine 1.0s infinite;
    border: 2px solid #ffffff !important;
    z-index: 50;
}

.path-highlight-red {
    border-color: #e53935 !important;
}

.path-highlight-blue {
    border-color: #1e88e5 !important;
}

.path-highlight-green {
    border-color: #43a047 !important;
}

.path-highlight-yellow {
    border-color: #fdd835 !important;
}


/* --- 7. BOARD TURN VISUALS (Restored) --- */
.board-turn-red {
    background-color: #5e2121 !important;
    border-color: #e53935 !important;
    box-shadow: 0 0 20px 5px rgba(229, 57, 53, 0.6), inset 0 0 15px rgba(0, 0, 0, 0.2) !important;
}

.board-turn-blue {
    background-color: #152e44 !important;
    border-color: #1e88e5 !important;
    box-shadow: 0 0 20px 5px rgba(30, 136, 229, 0.6), inset 0 0 15px rgba(0, 0, 0, 0.2) !important;
}

.board-turn-green {
    background-color: #1b3e1e !important;
    border-color: #43a047 !important;
    box-shadow: 0 0 20px 5px rgba(67, 160, 71, 0.6), inset 0 0 15px rgba(0, 0, 0, 0.2) !important;
}

.board-turn-yellow {
    background-color: #4e4a18 !important;
    border-color: #fdd835 !important;
    box-shadow: 0 0 20px 5px rgba(253, 216, 53, 0.6), inset 0 0 15px rgba(0, 0, 0, 0.2) !important;
}